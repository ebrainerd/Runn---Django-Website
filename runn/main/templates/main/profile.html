{% extends "main/base.html" %}
{% load crispy_forms_tags %}
{% block content  %}
<div class="content-section">
    <div class="media">
        <div class="media-body">
            <h2 class="account-heading">Profile: {{ user.username }}</h2>
            {% if request.user.id == user.id %}
            <!-- Show button if the profile's user id is the same as the logged in user's id  -->
            <a class='btn btn-secondary btn-sm mt-1 mb-1' href="{% url 'update-profile' pk=user.id %}">Edit Profile</a>
            {% endif %}
            {% if user.id != request.user.id %} <!-- Show button if the displayed user is not the logged in user -->
            <p>{% include 'main/follow_form.html' with username=user.username user_id=user.id is_following=is_following
                %}</p>
            {% endif %}
            <fieldset class="form-group">
                <legend class="border-bottom mb-1">Total Mileage</legend>
                {{ user.profile.total_mileage }}
            </fieldset>
            <fieldset class="form-group">
                <legend class="border-bottom mb-1">Email</legend>
                {{ user.email }}
            </fieldset>
            <fieldset class="form-group">
                <legend class="border-bottom mb-1">Name</legend>
                {{ user.first_name }} {{ user.last_name }}
            </fieldset>
            <fieldset class="form-group">
                <legend class="border-bottom mb-1">Location</legend>
                {{ user.profile.location }}
            </fieldset>
            <fieldset class="form-group">
                <legend class="border-bottom mb-1">Bio</legend>
                {{ user.profile.bio }}
            </fieldset>
        </div>
    </div>
    <h1>
        {% endblock content %}
